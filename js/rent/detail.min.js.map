{"version":3,"sources":["rent/detail.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","DetailController","_Controller","this","_this","getPrototypeOf","require","assistant","album","BigData","PreviewImage","init","bigData","pageName","pageParam","rent_house_id","$","val","type","$externalSellPoint","length","lineNum","parseInt","css","after","click","remove","Controller","document","ready"],"mappings":"AAAA,YAEA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,4BAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAOje,GARMW,kBAQiB,SAAUC,GAP7B,QAAAD,KAAcrB,gBAAAuB,KAAAF,EAAA,IAAAG,GAAApB,2BAAAmB,MAAAF,EAAAD,WAAAR,OAAAa,eAAAJ,IAAAf,KAAAiB,OAMNlB,EAAAA,CACJqB,UAAS,8BAA8B,0BAA0B,4BAA6B,mCAAmC,SAASC,EAAUC,EAAOC,EAASC,GAChKD,EAAQE,KAAK1B,GAEbwB,EAAQG,SACJC,SAAU,OACVC,WACIC,cAAeC,EAAE,YAAYC,OAEjCC,KAAM,IAIVR,EAAa,mBAIjB,IAAIS,GAAqBH,EAAE,sBAC3B,IAAGG,EAAmBC,OAAO,EAAE,CAC3B,GAAIC,GAAUC,SAASH,EAAmBI,IAAI,WAAaD,SAASH,EAAmBI,IAAI,eACxFF,GAAU,IACTF,EAAmBI,IAAI,aAA6D,EAAhDD,SAASH,EAAmBI,IAAI,gBAAoB,MACxFJ,EAAmBK,MAAMR,EAAE,gCAAgCS,MAAM,WAC7DN,EAAmBI,IAAI,aAAa,QACpCP,EAAEb,MAAMuB,aA9BV,MAAAtB,GAkDd,MA1CAhB,WAAUa,EAAkBC,GA0CrBD,GAnDoB0B,WAyC/BX,GAAEY,UAAUC,MAAM,WACf,GAAI5B","file":"detail.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：rent/detail(租房-详情)\r\n 3. 作者：tangxuyang@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass DetailController extends Controller {\r\n    constructor() {\r\n        super(); \r\n        \r\n        /*\r\n            使用requirejs引入组件\r\n        */        \r\n        let self = this;\r\n        require(['../components/assistant.min','../components/album.min','../components/bigdata.min', '../components/preview-image.min'],function(assistant,album, BigData, PreviewImage){        \r\n            BigData.init(self);\r\n\r\n            BigData.bigData({\r\n                pageName: '1204',\r\n                pageParam: {\r\n                    rent_house_id: $('#houseId').val()\r\n                },\r\n                type: 1\r\n            });\r\n\r\n            //评论中图片添加预览功能\r\n            PreviewImage('.rent-comments');\r\n        }); \r\n\r\n        //外来房源基本信息\r\n        var $externalSellPoint = $('.external-sellpoint');\r\n        if($externalSellPoint.length>0){\r\n            let lineNum = parseInt($externalSellPoint.css('height')) / parseInt($externalSellPoint.css('line-height'));\r\n            if(lineNum > 5){//超过五行了\r\n                $externalSellPoint.css('max-height',parseInt($externalSellPoint.css('line-height'))*5 + 'px');\r\n                $externalSellPoint.after($('<div class=\"more\">查看更多</div>').click(function(){\r\n                    $externalSellPoint.css('max-height','100%');\r\n                    $(this).remove();\r\n                }));\r\n            }\r\n        }\r\n    };   \r\n}\r\n\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n   new DetailController;\r\n});\r\n"]}