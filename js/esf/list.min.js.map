{"version":3,"sources":["esf/list.min.js"],"names":["ListController","require","BigData","init","ConningTower","alert","data","self","filter","Filter","el","houseType","cityId","near","longitude","latitude","distances","value","text","sorts","id","houseTypes","name","title","items","exclusive","controller","filterChanged","result","total","count","console","log","param","paramGenerator","generateParamObj","fetchData","success","error","request","apiUrl","esf","list","houselist","type","successCallback","errorCallback","Controller","$","document","ready"],"mappings":";;;;;;;;;;AAAA;;;;;IAKMA,c;;;AACF,8BAAc;AAAA;;AAKV;;;AALU;AACV;;;;;AAOAC,gBAAQ,CAAE,2BAAF,EAAgC,0BAAhC,EAA4D,iCAA5D,CAAR,EAA0G,UAACC,OAAD,EAAa;AACnHA,oBAAQC,IAAR;AACA,gBAAIC,YAAJ,CAAiB;AACb,+BAAgBF,OADH;AAEb,8BAAe,KAFF;AAGb,6BAAc,qBAAM;AAChBG,0BAAM,iBAAN;AACH,iBALY;AAMb,yCAA0B,+BAACC,IAAD,EAAU;AAChCD,0BAAMC,IAAN;AACH;AARY,aAAjB;;AAWAC,iBAAKC,MAAL,GAAc,IAAIC,MAAJ,CAAW;AACrBC,oBAAI,SADiB;AAErBC,2BAAW,CAFU;AAGrBC,wBAAQ,EAHa;AAIrBC,sBAAM,KAJe;AAKrBC,2BAAW,GALU;AAMrBC,0BAAU,GANW;AAOrBC,2BAAW,CAAC,EAACC,OAAO,MAAR,EAAgBC,MAAM,UAAtB,EAAD,EAAmC,EAACD,OAAO,KAAR,EAAeC,MAAM,MAArB,EAAnC,EAAgE,EAACD,OAAO,MAAR,EAAgBC,MAAM,OAAtB,EAAhE,EAA+F,EAACD,OAAO,MAAR,EAAgBC,MAAM,OAAtB,EAA/F,EAA8H,EAACD,OAAO,MAAR,EAAgBC,MAAM,OAAtB,EAA9H,CAPU;AAQrBC,uBAAO,CAAC;AACJD,0BAAM;AADF,iBAAD,EAEL;AACEE,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBAFK,EAKL;AACEE,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBALK,EAQL;AACEE,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBARK,EAWL;AACEE,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBAXK,EAcL;AACEE,wBAAI,GADN;AAEE,4BAAQ;AAFV,iBAdK,EAiBL;AACEA,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBAjBK,EAoBL;AACEE,wBAAI,GADN;AAEEF,0BAAM;AAFR,iBApBK,CARc;AAgCrBG,4BAAY,CAAC;AACTC,0BAAM,OADG,EACK;AACdC,2BAAO,IAFE;AAGTC,2BAAO,CAAC;AACJJ,4BAAI,EADA;AAEJF,8BAAM,IAFF;AAGJO,mCAAW,IAHP,CAGY;AAHZ,qBAAD,EAIL;AACEL,4BAAI,GADN;AAEEF,8BAAM,IAFR;AAGEO,mCAAW,KAHb,CAGmB;AAHnB,qBAJK,EAQL;AACEL,4BAAI,GADN;AAEEF,8BAAM,IAFR;AAGEO,mCAAW,KAHb,CAGmB;AAHnB,qBARK,EAYL;AACEL,4BAAI,GADN;AAEEF,8BAAM,IAFR;AAGEO,mCAAW,KAHb,CAGmB;AAHnB,qBAZK,EAgBL;AACEL,4BAAI,GADN;AAEEF,8BAAM,IAFR;AAGEO,mCAAW,KAHb,CAGmB;AAHnB,qBAhBK,EAoBL;AACEL,4BAAI,GADN;AAEEF,8BAAM,OAFR;AAGEO,mCAAW,KAHb,CAGmB;AAHnB,qBApBK;AAHE,iBAAD,EA4BV;AACEH,0BAAM,UADR;AAEEC,2BAAO,IAFT;AAGEC,2BAAO,CAAC;AACJJ,4BAAI,IADA;AAEJF,8BAAM;AAFF,qBAAD,EAGL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAHK,EAML;AACEE,4BAAI,IADN;AAEEF,8BAAM;AAFR,qBANK,EASL;AACEE,4BAAI,IADN;AAEEF,8BAAM;AAFR,qBATK,EAYL;AACEE,4BAAI,IADN;AAEEF,8BAAM;AAFR,qBAZK,EAeL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAfK,EAkBL;AACEE,4BAAI,IADN;AAEEF,8BAAM;AAFR,qBAlBK,EAqBL;AACEE,4BAAI,IADN;AAEEF,8BAAM;AAFR,qBArBK;AAHT,iBA5BU,EAwDV;AACEI,0BAAM,OADR;AAEEC,2BAAO,IAFT;AAGEC,2BAAO,CAAC;AACJJ,4BAAI,GADA;AAEJF,8BAAM;AAFF,qBAAD,EAGL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAHK,EAML;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBANK,EASL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBATK,EAYL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAZK,EAeL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAfK,EAkBL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAlBK,EAqBL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBArBK,EAwBL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAxBK;AAHT,iBAxDU,EAuFV;AACEI,0BAAM,YADR;AAEEC,2BAAO,MAFT;AAGEC,2BAAO,CAAC;AACJJ,4BAAI,GADA;AAEJF,8BAAM;AAFF,qBAAD,EAGL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAHK;AAHT,iBAvFU,EAiGV;AACEI,0BAAM,aADR;AAEEC,2BAAO,IAFT;AAGEC,2BAAO,CAAC;AACJJ,4BAAI,GADA;AAEJF,8BAAM;AAFF,qBAAD,EAGL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAHK,EAML;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBANK,EASL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBATK,EAYL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAZK;AAHT,iBAjGU,EAoHV;AACEI,0BAAM,MADR;AAEEC,2BAAO,IAFT;AAGEC,2BAAO,CAAC;AACJJ,4BAAI,GADA;AAEJF,8BAAM;AAFF,qBAAD,EAGL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBAHK,EAML;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBANK,EASL;AACEE,4BAAI,GADN;AAEEF,8BAAM;AAFR,qBATK;AAHT,iBApHU,CAhCS;AAqKrBQ,4BAAYnB,IArKS;AAsKrBoB,+BAAe,uBAASC,MAAT,EAAgB;AAC3B,yBAAKC,KAAL,GAAa,CAAb;AACA,yBAAKC,KAAL,GAAa,CAAb;AACAC,4BAAQC,GAAR,CAAY,SAAZ,EAAuBJ,MAAvB;AACA,wBAAIK,QAAQ1B,KAAK2B,cAAL,CAAoBC,gBAApB,CAAqCP,MAArC,CAAZ;AACArB,yBAAK0B,KAAL,GAAaA,KAAb;AACA;AACA;AACA1B,yBAAK6B,SAAL,CAAeH,KAAf,EAAqB,UAAS3B,IAAT,EAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACH,qBAPD;AAQH;AAtLoB,aAAX,CAAd;AAwLH,SArMD;AARU;AA8Mb;;;;kCAES2B,K,EAAMI,O,EAAQC,K,EAAM;AAAC;AAC3B,iBAAKC,OAAL,CAAa,KAAKC,MAAL,CAAYC,GAAZ,CAAgBC,IAAhB,CAAqBC,SAAlC,EAA6CV,KAA7C,EAAoD;AAChDW,sBAAM,MAD0C;AAEhDC,iCAAiBR,OAF+B;AAGhDS,+BAAeR;AAHiC,aAApD;AAKH;;;;EAvNwBS,U;AAyN7B;;;;;AAGAC,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AACzB,QAAIlD,cAAJ;AACH,CAFD","file":"list.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：悟空找房h5\n 2. 页面名称：esf/list(二手房列表)\n 3. 作者：zhaohuagang@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\nclass ListController extends Controller {\n    constructor() {        \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        类的初始化，继承控制器基类\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        super() ;        \n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n        加载相关页面组件逻辑\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n        require([ \"../components/bigdata.min\" , \"../components/filter.min\", \"../components/conning-tower.min\" ] , (BigData) => {\n            BigData.init(this) ;\n            new ConningTower({                \n                \"bigDataUtil\" : BigData ,               \n                \"moduleType\" : \"esf\" ,\n                \"cityClick\" : () => {\n                    alert(\"在二手房城市选择器中点选了城市\") ;\n                } ,\n                \"searchResultItemClick\" : (data) => {\n                    alert(data) ;\n                }\n            }) ;\n\n            self.filter = new Filter({\n                el: \".filter\",\n                houseType: 1,\n                cityId: 43,\n                near: false,\n                longitude: 222,\n                latitude: 234,\n                distances: [{value: \"5000\", text: \"不限（智能范围）\"},{value: \"500\", text: \"500米\"},{value: \"1000\", text: \"1000米\"},{value: \"2000\", text: \"2000米\"},{value: \"5000\", text: \"5000米\"}],\n                sorts: [{                    \n                    text: \"默认排序\"\n                },{\n                    id: \"1\",\n                    text: \"单价从低到高\"\n                },{\n                    id: \"2\",\n                    text: \"单价从高到低\"\n                },{\n                    id: \"3\",\n                    text: \"总价从低到高\"\n                },{\n                    id: \"4\",\n                    text: \"总价从高到低\"\n                },{\n                    id: \"5\",\n                    \"text\": \"面积从小到大\"\n                },{\n                    id: \"6\",\n                    text: \"面积从大到小\"\n                },{\n                    id: \"7\",\n                    text: \"发布时间从近到远\"\n                }],\n                houseTypes: [{\n                    name: \"types\",//用来作为返回查询条件的key\n                    title: \"户型\",\n                    items: [{\n                        id: \"\",\n                        text: \"不限\",\n                        exclusive: true,//互斥\n                    },{\n                        id: \"1\",\n                        text: \"一室\",\n                        exclusive: false,//互斥\n                    },{\n                        id: \"2\",\n                        text: \"二室\",\n                        exclusive: false,//互斥\n                    },{\n                        id: \"3\",\n                        text: \"三室\",\n                        exclusive: false,//互斥\n                    },{\n                        id: \"4\",\n                        text: \"四室\",\n                        exclusive: false,//互斥\n                    },{\n                        id: \"5\",\n                        text: \"五室及以上\",\n                        exclusive: false,//互斥\n                    }]\n                },{\n                    name: \"features\",\n                    title: \"特色\",\n                    items: [{\n                        id: \"fd\",\n                        text: \"降价\"\n                    },{\n                        id: \"n\",\n                        text: \"新上\"\n                    },{\n                        id: \"m2\",\n                        text: \"满二\"  \n                    },{\n                        id: \"m5\",\n                        text: \"满五唯一\"\n                    },{\n                        id: \"f1\",\n                        text: \"地铁房\"\n                    },{\n                        id: \"s\",\n                        text: \"近学校\"\n                    },{\n                        id: \"f2\",\n                        text: \"有视频\"\n                    },{\n                        id: \"ns\",\n                        text: \"南北通透\"\n                    }]\n                },{\n                    name: \"areas\",\n                    title: \"面积\",\n                    items: [{\n                        id: \"1\",\n                        text: \"50以下\"\n                    },{\n                        id: \"2\",\n                        text: \"50-70\"\n                    },{\n                        id: \"3\",\n                        text: \"70-90\"\n                    },{\n                        id: \"4\",\n                        text: \"90-110\"\n                    },{\n                        id: \"5\",\n                        text: \"110-130\"\n                    },{\n                        id: \"6\",\n                        text: \"130-150\"\n                    },{\n                        id: \"7\",\n                        text: \"150-200\"\n                    },{\n                        id: \"8\",\n                        text: \"200-300\"\n                    },{\n                        id: \"9\",\n                        text: \"300以上\"\n                    }]\n                },{\n                    name: \"houseTypes\",\n                    title: \"房屋类型\",\n                    items: [{\n                        id: \"1\",\n                        text: \"公寓\"\n                    },{\n                        id: \"2\",\n                        text: \"别墅\"\n                    }]\n                },{\n                    name: \"decorations\",\n                    title: \"装修\",\n                    items: [{\n                        id: \"1\",\n                        text: \"毛坯\"\n                    },{\n                        id: \"2\",\n                        text: \"简装\"\n                    },{\n                        id: \"3\",\n                        text: \"中装\"\n                    },{\n                        id: \"4\",\n                        text: \"精装\"\n                    },{\n                        id: \"5\",\n                        text: \"豪装\"\n                    }]\n                },{\n                    name: \"ages\",\n                    title: \"房龄\",\n                    items: [{\n                        id: \"1\",\n                        text: \"5年以内\"\n                    },{\n                        id: \"2\",\n                        text: \"5-10年\"\n                    },{\n                        id: \"3\",\n                        text: \"10-20年\"\n                    },{\n                        id: \"4\",\n                        text: \"20年以上\"\n                    }]\n                }],\n                controller: self,\n                filterChanged: function(result){ \n                    this.total = 0;\n                    this.count = 0;                    \n                    console.log(\"筛选条件变了：\", result);                                      \n                    var param = self.paramGenerator.generateParamObj(result);\n                    self.param = param;\n                    // self.hideNoData();\n                    // self.hideNoMore();\n                    self.fetchData(param,function(data){\n                        // if(data.count!=0 && data.count<=self.pageSize){// 没有更多了\n                        //     self.showNoMore();\n                        // }\n                        // self.createHouseList(data.data,data.count);  \n                        // var qs = ParamGenerator.object2QueryString(param);                        \n                        // window.history.pushState(param, \"\", \"./\" + qs);       \n                    });\n                }                \n            });\n        }) ;\n    }        \n    \n    fetchData(param,success,error){// 获取列表数据\n        this.request(this.apiUrl.esf.list.houselist, param, {\n            type: \"POST\",\n            successCallback: success,\n            errorCallback: error\n        });\n    }\n}\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n    new ListController ;\n}) ;"]}