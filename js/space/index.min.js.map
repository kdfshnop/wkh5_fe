{"version":3,"sources":["space/index.min.js"],"names":["IndexController","$","lazyload","staticDomain","click","history","go","addListenerToAssistant","first","addClass","that","require","BigData","init","bigData","val","tabs","onSwap","index","requestParams","typeHouseList","attr","pullload","addEventListener","classSelf","slideUp","siblings","fadeIn","ellipsis","removeClass","hide","each","height","show","type","item","houseTagList","commision","domeType","houseTag","isSubwayHouse","isPriceDown","isNewHouse","isShortRent","isHardcover","isSouth","isZeroCommission","hasVideo","distanceSubway","url","firstImageUrl","estateName","houseTitle","houseTypeStr","spaceArea","districtAndTownName","rentPriceStr","tagList","forEach","tag","bigdata","encodeURIComponent","JSON","stringify","eventName","eventParam","house_id","houseId","houseImgUrl","houseChild","areaStr","district","town","totalPrice","unitPrice","hasActivity","isSubwayEstate","isSoonOpen","activitys","title","subEstateId","districtName","townName","startSpace","endSpace","self","pinyin","cookie","apiUrl","eval","requestType","queryStringObject","traditional","pageSize","threshold","countKey","callback","data","houseList","listItem","listIt","encryptHouseId","append","creatRent","Controller","document","ready"],"mappings":"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","file":"index.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房h5\r\n 2. 页面名称：space -> index(经纪人个人店铺首页)\r\n 3. 作者：赵华刚@lifang.com\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\nclass IndexController extends Controller {\r\n    constructor() {\r\n        super() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        图片懒加载实例化\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/        \r\n        $(\".lazy\").lazyload({ \r\n            \"placeholder\" : this.staticDomain + \"/wkh5_fe/images/common/loading.jpg\"\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        返回按钮事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n        $(\"header .icon-back\").click(function(){\r\n            history.go(-1) ;\r\n        }) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        底部经纪人助手条处理\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        this.addListenerToAssistant() ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给第一个tabs-handle选项添加on样式\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/         \r\n        $(\".wk-tabs .tabs-handle li\").first().addClass(\"on\") ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        载入组件逻辑\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/  \r\n        let that = this;\r\n        require([ \"../components/bigdata.min\" , \"../components/tabs.min\" ] , (BigData) => {\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n            pv埋点\r\n            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            BigData.init(this) ;\r\n            BigData.bigData({\r\n                \"pageName\" : \"1002\" ,\r\n                \"pageParam\" : {\r\n                    \"source\" : \"\" ,\r\n                    \"agent_id\" : $(\"#agentId\").val()\r\n                } ,\r\n                \"type\" : 1\r\n            }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n           tabs实例化\r\n            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n            $(\".wk-tabs\").tabs({\r\n                \"fixedWhenScroll\" : false ,\r\n                \"effect\" : \"fadeIn\" ,\r\n                \"duration\" : 200,\r\n                onSwap: function (index) {\r\n                    let requestParams = {\r\n                       \"agentId\": $(\"#agentId\").val()\r\n                    };\r\n                   let typeHouseList = $(`.tabs-handle >li:eq(${index})`).attr(\"data-typehouse\");\r\n                   that.pullload(requestParams,typeHouseList)\r\n                }\r\n            }) ;            \r\n        }) ;        \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        给dom节点绑定事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/ \r\n        this.addEventListener() ;\r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    给dom节点绑定事件\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    addEventListener() {\r\n        let classSelf = this ;\r\n        $(\".highlight .more\").click(function(){\r\n            $(this).slideUp(200) ;\r\n            $(this).siblings(\".optional\").fadeIn(200 , function(){\r\n                classSelf.ellipsis() ;\r\n            }) ;           \r\n        }) ;\r\n        $(\".highlight .optional .switch\").click(function(){\r\n            $(this).siblings(\".long-text\").removeClass(\"limit\") ;\r\n            $(this).hide(200) ;\r\n        }) ;\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    判断自我介绍和成交故事是否需要展开\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    ellipsis() {       \r\n        $(\".highlight .optional .long-text\").each(function(){             \r\n            if($(this).height() <= 60 ) return ;           \r\n            $(this).addClass(\"limit\") ;             \r\n            $(this).siblings(\".switch\").show(200) ;\r\n        }) ;\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     创建dome\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    creatRent(type,item) {\r\n        let houseTagList = ''; // 标签\r\n        let commision =''; // 租房零佣金\r\n        let domeType='';   // dome 的拼装\r\n        if (type == \"rent\"){\r\n               if (item.houseTag.isSubwayHouse) {\r\n                   houseTagList += '<span class=\"tag nears\">近地铁</span>'\r\n               }  if (item.houseTag.isPriceDown) {\r\n                   houseTagList += '<span class=\"tag priced\">降价</span>'\r\n               }  if (item.houseTag.isNewHouse) {\r\n                   houseTagList += '<span class=\"tag newup\">新上</span>'\r\n               }   if (item.houseTag.isShortRent) {\r\n                   houseTagList += '<span class=\"tag anthert\">可短租</span>'\r\n               }   if(item.houseTag.isHardcover == 1){\r\n                   houseTagList += '<span class=\"tag anthert\">精装</span>'\r\n               } if(item.houseTag.isHardcover == 2){\r\n                   houseTagList += '<span class=\"tag anthert\">豪装</span>'\r\n               } if(item.houseTag.isSouth){\r\n                   houseTagList += '<span class=\"tag anthert\">朝南</span>'\r\n               } if(item.houseTag.isZeroCommission){\r\n                   commision= ' <span class=\"commission\">0 佣金</span>'\r\n               }\r\n               let hasVideo='';\r\n               if(item.houseTag.hasVideo == 1){\r\n                   hasVideo= `<span class=\"play\"><i></i></span>`;\r\n               }\r\n               let distanceSubway = '';\r\n               if (item.distanceSubway != null){\r\n                   distanceSubway = `<p class=\"base-info\">${item.distanceSubway}</p>`\r\n               }\r\n               domeType=  `<a  class=\"rent-item box\" href=\" ${item.url}\">\r\n                   <div class=\"left\">\r\n                       <img src=\"${item.firstImageUrl}?x-oss-process=image/resize,w_120\" alt=\"${ item.estateName} \" class=\"lazy\">\r\n                       ${hasVideo}\r\n                       ${commision}\r\n                   </div>\r\n                   <div class=\"right\">\r\n                       <h4> ${item.houseTitle}</h4>\r\n                       <p class=\"base-info\">                    \r\n                          ${item.houseTypeStr} ${item.spaceArea}㎡ | ${item.districtAndTownName}\r\n                       </p>\r\n                        ${distanceSubway}\r\n                       <p class=\"tags\">${houseTagList}</p>\r\n                       <p class=\"unit-price\"> <span>${item.rentPriceStr}</span> 元/月</p>\r\n                   </div>\r\n               </a>`;\r\n        }else if(type == \"esf\"){\r\n            item.tagList.forEach(function(tag) {\r\n              if(tag == \"降价\") { houseTagList+=`<div class=\"promotion\"><span>${ tag }</span></div>`}\r\n                 else if(tag == \"新上\") { houseTagList+=`<div class=\"new\"><span>${ tag }</span></div>`}\r\n                 else if(tag == \"满二\" || tag == \"满五唯一\") { houseTagList+=`<div class=\"over\"><span>${ tag }</span></div>`}\r\n                 else { houseTagList+=`<div><span>${tag}</span></div>`}\r\n                }) ;\r\n            let hasVideo='';\r\n            if(item.hasVideo == 1){\r\n                hasVideo= `<span class=\"play\"><i></i></span>`;\r\n            }\r\n            let bigdata = encodeURIComponent(JSON.stringify({ eventName:'1002017',eventParam:{house_id:item.houseId }, type: 2}));\r\n            domeType = `<a href=\" ${item.url}\" class=\"esf-item\" data-bigdata=\"${bigdata}\">\r\n                            <dl>\r\n                                <dt><img src=\"${item.houseImgUrl}?x-oss-process=image/resize,w_120\" alt=\"${ item.houseTitle}\" class=\"lazy\" style=\"display: inline;\">${hasVideo}</dt>\r\n                                <dd class=\"title\">${item.houseTitle}</dd>\r\n                                <dd>${item.houseChild} ${item.areaStr} | ${item.district}${item.town}</dd>\r\n                                <dd class=\"tags\">\r\n                                  ${houseTagList}               \r\n                                </dd>   \r\n                                <dd>\r\n                                     <span class=\"money\">${item.totalPrice}万</span>\r\n                                     <span class=\"price\">${item.unitPrice} 元/㎡</span>\r\n                                </dd>                             \r\n                            </dl>\r\n                        </a>`;\r\n        }else if(type == \"xf\"){\r\n             if (item.hasActivity){\r\n                 houseTagList +=`<li class=\"yh\">有优惠</li>`\r\n             }else if (item.isSubwayEstate){\r\n                 houseTagList +=`<li class=\"dt\">近地铁</li>`\r\n             }else if (!item.isSoonOpen){\r\n                 houseTagList +=`<li class=\"\">在售楼盘</li>`\r\n             }else if (item.isSoonOpen){\r\n                 houseTagList +=`<li class=\"\">即将开盘</li>`\r\n             }else if (item.hasVideo){\r\n                 houseTagList +=`<li class=\"\">有视频</li>`\r\n             }\r\n             let activitys='';\r\n             let hasVideo='';\r\n            if(item.hasVideo == 1){\r\n                hasVideo= `<span class=\"play\"><i></i></span>`;\r\n            }\r\n             if(item.activitys && item.activitys[0]){\r\n                activitys= `<div class=\"yh\">${ item.activitys[0].title}</div>`\r\n              }\r\n            let bigdata = encodeURIComponent(JSON.stringify({ \"eventName\" : 1002010 , \"eventParam\" : { \"new_house_id\" : item.subEstateId }}));\r\n            domeType = `<a class=\"xf-item\" href=\"${item.url}\" data-bigdata=\"${bigdata}\">\r\n            <div class=\"img\">\r\n                <img src=\"${item.houseImgUrl}?x-oss-process=image/resize,w_120\" data-src=\"${item.houseImgUrl}\" class=\"lazy\">\r\n                ${hasVideo}\r\n                ${activitys}     \r\n            </div>\r\n            <div class=\"info\">\r\n                <h3><%= item.estateName%></h3>\r\n                <p class=\"district-town-area\">\r\n                    <span>${ item.districtName}  ${item.townName}</span><span>${item.startSpace}m²-${item.endSpace}m²</span>\r\n                </p>\r\n                <ul class=\"tags\">\r\n                    ${houseTagList}\r\n                </ul>\r\n                <p class=\"unit-price\"><span>${ item.unitPrice}</span> <span>元/m</span></p>\r\n            </div>\r\n        </a>`;\r\n        }\r\n        return domeType\r\n    }\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n    上拉加载实例化\r\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    pullload(requestParams,typeHouseList) {\r\n        let self = this ;\r\n        let pinyin = $.cookie('pinyin') || \"shanghai\";\r\n        let type =  typeHouseList == \"secondHouseList\" ? \"esf\": (typeHouseList == \"rentHouseList\" ? \"rent\": \"xf\");\r\n        // 房源列表\r\n        $(`.${type}-frame`).pullload({\r\n            apiUrl : eval(`this.apiUrl.space.${typeHouseList}`) ,\r\n            requestType: \"get\",\r\n            queryStringObject : requestParams ,\r\n            traditional: true,\r\n            pageSize: 10,\r\n            threshold : 50 ,\r\n            countKey:\"count\",\r\n            callback : function(data) {\r\n                if( ! data.data) return ;\r\n                data.data.houseList.forEach((listItem,index)=> {\r\n                    let listIt = listItem;\r\n                    if(type == \"xf\"){\r\n                        listIt['url'] = `/${pinyin}/${type}/${ listItem.encryptHouseId}.html`;\r\n                    }else {\r\n                        listIt['url'] = `/${pinyin}/${type}/${ listItem.encryptHouseId}.html?agentId=`+ $(\"#agentId\").val();\r\n                    }\r\n                    $(`.${type}-frame`).append(self.creatRent(type,listIt)) ;\r\n                }) ;\r\n            }\r\n        }) ;\r\n\r\n    } ;\r\n}\r\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n类的初始化\r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n$(document).ready(function() {\r\n    new IndexController ;\r\n}) ;\r\n"]}