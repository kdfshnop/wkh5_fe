{"version":3,"sources":["components/tabs.min.js"],"names":["$","fn","tabs","options","opts","extend","defaults","each","swapTo","find","handleClass","activeHandleClass","index","children","key","element","on","fixedWhenScroll","window","scroll","$tabsHandle","scrollTop","height","css","$handles","removeClass","eq","addClass","frameClass","hide","duration","eval","effect","onSwap","trigger","jQuery"],"mappings":"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","file":"tabs.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房移动端FE-MVC框架\r\n 2. 页面名称：tabs (jQuery插件 - tabs)\r\n 3. 作者：zhaohuagang@lifang.com\r\n 4. 实例：\r\n    $.tabs({       \r\n        handleClass : \"tabs-handle\",        \r\n        activeHandleClass : \"on\",        \r\n        frameClass : \"tabs-frame\", \r\n        effect : \"show\" ,        \r\n        duration : 0 ,        \r\n        onSwap : null ,        \r\n        fixedWhenScroll : true\r\n    }) ;\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n(function($) {\r\n    $.fn.tabs = function(options) {\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        将每个tabs加上对应的配置属性\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        var opts = $.extend({}, $.fn.tabs.defaults, options);\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         执行事件添加后返回\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        return this.each(function() {\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             tabs-handle子节点平均分配宽度\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            //var $lis = $(this).find(\".\" + opts.handleClass + \">li\") ;\r\n            //$lis.css({ \"width\" : 100 / $lis.size() + \"%\" }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             先隐藏掉activeIndex之外的其他frame及handle\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/             \r\n            $.fn.tabs.swapTo(this, $(this).find(\".\" + opts.handleClass + \" .\" + opts.activeHandleClass).index(), opts) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             给handle的子元素赋予事件\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            var tabs = this;\r\n            $(this).find(\".\" + opts.handleClass).children().each(function(key, element) {\r\n                $(element).on(\"click\", function() {\r\n                    $.fn.tabs.swapTo(tabs, key, opts);                    \r\n                });\r\n            }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             窗口拉动滚动条的时候侦测滚动条位置，大于指定值的时候position变成fixed\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            if(opts.fixedWhenScroll) {\r\n                $(window).scroll(function(){\r\n                    var $tabsHandle = $(tabs).find(\".\" + opts.handleClass) ;\r\n                    if($(window).scrollTop() >= $tabsHandle.height()) $tabsHandle.css({ \"position\" : \"fixed\" , \"width\" : \"100%\" , \"left\" : 0 , \"top\" : 0 }) ;\r\n                    else $tabsHandle.css({ \"position\" : \"static\"}) ;\r\n                }) ;\r\n            }\r\n        });\r\n    };\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     定义切换到某一帧的方法\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    $.fn.tabs.swapTo = function(tabs, index, opts) {\r\n        var $handles = $(tabs).find(\".\" + opts.handleClass).children() ;\r\n        $handles.removeClass(opts.activeHandleClass);\r\n        $handles.eq(index).addClass(opts.activeHandleClass);\r\n        $(tabs).find(\".\" + opts.frameClass).hide();\r\n        if(opts.duration == \"normal\" || opts.duration == \"fast\" || opts.duration == \"slow\") eval(\"$(tabs).find('.' + opts.frameClass).eq(index).\" + opts.effect + \"('\" + opts.duration + \"')\");\r\n        else eval(\"$(tabs).find('.' + opts.frameClass).eq(index).\" + opts.effect + \"(\" + opts.duration + \")\") ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        调用接口事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        if(opts.onSwap) opts.onSwap(index) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        触发window的scroll事件，有些页面加了延迟加载图片插件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(window).trigger(\"scroll\") ;        \r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     tabs默认配置\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    $.fn.tabs.defaults = {\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         句柄容器的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        handleClass : \"tabs-handle\",\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         活动标签页需要加的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        activeHandleClass : \"on\",\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         每个标签卡内容的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        frameClass : \"tabs-frame\",       \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换效果设置，效果暂时设置为：\r\n         1. slideDown : 向下拉下来\r\n         2. fadeIn : 通过透明度的切换显示\r\n         3. show : 普通显示\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        effect : \"show\" ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换动画持续时间，可以是整数，单位是毫秒，可以是：normal | fast | slow ，默认是\"\"表示不需要持续时间参数\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        duration : 0 ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换到某帧后的接口事件，这个方法将切换到的frame的索引值当做唯一参数\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        onSwap : null ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        窗口拉动滚动条的时候是否需要将tabsHandle变成fixed\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        fixedWhenScroll : true\r\n    } ;\r\n})(jQuery) ;"]}