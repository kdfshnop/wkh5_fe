{"version":3,"sources":["components/tabs.min.js"],"names":["$","fn","tabs","options","opts","extend","defaults","this","each","swapTo","find","handleClass","activeHandleClass","index","children","key","element","on","fixedWhenScroll","window","scroll","$tabsHandle","scrollTop","height","css","position","width","left","top","$handles","removeClass","eq","addClass","frameClass","hide","duration","eval","effect","onSwap","trigger","jQuery"],"mappings":"AAAA,cAeA,SAAUA,GACNA,EAAEC,GAAGC,KAAO,SAASC,GAIjB,GAAIC,GAAOJ,EAAEK,UAAWL,EAAEC,GAAGC,KAAKI,SAAUH,EAI5C,OAAOI,MAAKC,KAAK,WASbR,EAAEC,GAAGC,KAAKO,OAAOF,KAAMP,EAAEO,MAAMG,KAAK,IAAMN,EAAKO,YAAc,KAAOP,EAAKQ,mBAAmBC,QAAST,EAIrG,IAAIF,GAAOK,IACXP,GAAEO,MAAMG,KAAK,IAAMN,EAAKO,aAAaG,WAAWN,KAAK,SAASO,EAAKC,GAC/DhB,EAAEgB,GAASC,GAAG,QAAS,WACnBjB,EAAEC,GAAGC,KAAKO,OAAOP,EAAMa,EAAKX,OAMjCA,EAAKc,iBACJlB,EAAEmB,QAAQC,OAAO,WACb,GAAIC,GAAcrB,EAAEE,GAAMQ,KAAK,IAAMN,EAAKO,YACvCX,GAAEmB,QAAQG,aAAeD,EAAYE,SAAUF,EAAYG,KAAMC,SAAa,QAAUC,MAAU,OAASC,KAAS,EAAIC,IAAQ,IAC9HP,EAAYG,KAAMC,SAAa,gBAQpDzB,EAAEC,GAAGC,KAAKO,OAAS,SAASP,KAAMW,MAAOT,MACrC,GAAIyB,UAAW7B,EAAEE,MAAMQ,KAAK,IAAMN,KAAKO,aAAaG,UACpDe,UAASC,YAAY1B,KAAKQ,mBAC1BiB,SAASE,GAAGlB,OAAOmB,SAAS5B,KAAKQ,mBACjCZ,EAAEE,MAAMQ,KAAK,IAAMN,KAAK6B,YAAYC,OAChB,UAAjB9B,KAAK+B,UAAyC,QAAjB/B,KAAK+B,UAAuC,QAAjB/B,KAAK+B,SAAoBC,KAAK,iDAAmDhC,KAAKiC,OAAS,KAAOjC,KAAK+B,SAAW,MAC5KC,KAAK,iDAAmDhC,KAAKiC,OAAS,IAAMjC,KAAK+B,SAAW,KAI9F/B,KAAKkC,QAAQlC,KAAKkC,OAAOzB,OAI5Bb,EAAEmB,QAAQoB,QAAQ,oBAKtBvC,EAAEC,GAAGC,KAAKI,UAINK,YAAc,cAIdC,kBAAoB,KAIpBqB,WAAa,aAObI,OAAS,OAITF,SAAW,EAIXG,OAAS,KAITpB,iBAAkB,IAEvBsB","file":"tabs.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 1. 项目名称：悟空找房移动端FE-MVC框架\r\n 2. 页面名称：tabs (jQuery插件 - tabs)\r\n 3. 作者：zhaohuagang@lifang.com\r\n 4. 实例：\r\n    $.tabs({       \r\n        handleClass : \"tabs-handle\",        \r\n        activeHandleClass : \"on\",        \r\n        frameClass : \"tabs-frame\", \r\n        effect : \"show\" ,        \r\n        duration : 0 ,        \r\n        onSwap : null ,        \r\n        fixedWhenScroll : true\r\n    }) ;\r\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n(function($) {\r\n    $.fn.tabs = function(options) {\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        将每个tabs加上对应的配置属性\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        var opts = $.extend({}, $.fn.tabs.defaults, options);\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         执行事件添加后返回\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        return this.each(function() {\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             tabs-handle子节点平均分配宽度\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            //var $lis = $(this).find(\".\" + opts.handleClass + \">li\") ;\r\n            //$lis.css({ \"width\" : 100 / $lis.size() + \"%\" }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             先隐藏掉activeIndex之外的其他frame及handle\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/             \r\n            $.fn.tabs.swapTo(this, $(this).find(\".\" + opts.handleClass + \" .\" + opts.activeHandleClass).index(), opts) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             给handle的子元素赋予事件\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            var tabs = this;\r\n            $(this).find(\".\" + opts.handleClass).children().each(function(key, element) {\r\n                $(element).on(\"click\", function() {\r\n                    $.fn.tabs.swapTo(tabs, key, opts);                    \r\n                });\r\n            }) ;\r\n            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n             窗口拉动滚动条的时候侦测滚动条位置，大于指定值的时候position变成fixed\r\n             -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n            if(opts.fixedWhenScroll) {\r\n                $(window).scroll(function(){\r\n                    var $tabsHandle = $(tabs).find(\".\" + opts.handleClass) ;\r\n                    if($(window).scrollTop() >= $tabsHandle.height()) $tabsHandle.css({ \"position\" : \"fixed\" , \"width\" : \"100%\" , \"left\" : 0 , \"top\" : 0 }) ;\r\n                    else $tabsHandle.css({ \"position\" : \"static\"}) ;\r\n                }) ;\r\n            }\r\n        });\r\n    };\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     定义切换到某一帧的方法\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    $.fn.tabs.swapTo = function(tabs, index, opts) {\r\n        var $handles = $(tabs).find(\".\" + opts.handleClass).children() ;\r\n        $handles.removeClass(opts.activeHandleClass);\r\n        $handles.eq(index).addClass(opts.activeHandleClass);\r\n        $(tabs).find(\".\" + opts.frameClass).hide();\r\n        if(opts.duration == \"normal\" || opts.duration == \"fast\" || opts.duration == \"slow\") eval(\"$(tabs).find('.' + opts.frameClass).eq(index).\" + opts.effect + \"('\" + opts.duration + \"')\");\r\n        else eval(\"$(tabs).find('.' + opts.frameClass).eq(index).\" + opts.effect + \"(\" + opts.duration + \")\") ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        调用接口事件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        if(opts.onSwap) opts.onSwap(index) ;\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        触发window的scroll事件，有些页面加了延迟加载图片插件\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        $(window).trigger(\"scroll.lazyload\") ;        \r\n    } ;\r\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n     tabs默认配置\r\n     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n    $.fn.tabs.defaults = {\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         句柄容器的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        handleClass : \"tabs-handle\",\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         活动标签页需要加的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        activeHandleClass : \"on\",\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         每个标签卡内容的class名称\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        frameClass : \"tabs-frame\",       \r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换效果设置，效果暂时设置为：\r\n         1. slideDown : 向下拉下来\r\n         2. fadeIn : 通过透明度的切换显示\r\n         3. show : 普通显示\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        effect : \"show\" ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换动画持续时间，可以是整数，单位是毫秒，可以是：normal | fast | slow ，默认是\"\"表示不需要持续时间参数\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        duration : 0 ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n         切换到某帧后的接口事件，这个方法将切换到的frame的索引值当做唯一参数\r\n         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        onSwap : null ,\r\n        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n        窗口拉动滚动条的时候是否需要将tabsHandle变成fixed\r\n        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\r\n        fixedWhenScroll : true\r\n    } ;\r\n})(jQuery) ;"]}